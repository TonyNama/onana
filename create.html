<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Ajouter une categorie</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link href="styles.css" rel="stylesheet" type="text/css" media="all" />
  <script src="js/jquery-3.2.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
</head>
 <script src="js/angular.min.js"></script>
<body>
	
	<div class="container">
  		<h2><p>Creation d'une nouvelle categorie</p></h2>
  		<form class="form-horizontal" role="form" ng-app="myAppAdd" ng-controller="myCtrlAdd" ng-init="myColor='white';mySwitch=false">
   			<div class="form-group">
      			<label class="control-label col-sm-2" for="nom">Nom:</label>
      			<div class="col-sm-10">
        		<input type="text" class="form-control" id="nom" placeholder="Entrer nom categorie" ng-model="nom" required>
      			</div>
    		</div>
    		<div class="form-group" id="divUnite1">
      			<label class="control-label col-sm-2" for="unite">Unit&eacute;:</label>
      			<div class="col-sm-10">          
        		<input type="text" class="form-control" id="unite1" placeholder="Entrer l'unite" ng-model="unite"><span>&nbsp;<button id="btn" type="submit" class="btn btn-default" ng-disabled="mySwitch" ng-click="addChamp()">Ajouter</button></span>
      			</div>
    		</div><br />
    		<div class="form-group">        
      			<div class="col-sm-offset-2 col-sm-10">
        		<button type="submit" class="btn btn-default">Soumettre</button>
      			</div>
    		</div>
    	</form>
	</div>
	<script>
		var app = angular.module('myAppAdd', []);
		app.controller('myCtrlAdd', function($scope) {
    	$scope.nom = "NAMA";
    	//$scope.lastName= "Doe";
    	$scope.count = 1;
    	$scope.addChamp = function() {
    		var champInsertion = jQuery("#divUnite" + $scope.count).clone();
    		
    		$scope.count = 2;
    		alert(jQuery(champInsertion).attr('id'));
    		jQuery(champInsertion).children("input").attr('id', "unite" + $scope.count);
    		alert(jQuery(champInsertion).children("input").attr('id'));
    		jQuery(champInsertion).children("label").remove();
    		jQuery("div").append(champInsertion);
    		//document.write(jQuery("champInsertion").children("#btn"));
    		//alert(jQuery(champInsertion).children("input").attr('id'));	
    		//$scope.count++;
    		//jQuery("button").remove("#btn");
    		//jQuery(champInsertion).children("label").remove();
    		jQuery(champInsertion).attr('id', "divUnite" + $scope.count);
    		//jQuery(champInsertion).children("input").attr('id', "unite" + $scope.count);
    		//jQuery("#unite" + $scope.count).after(champInsertion);
    	}
		});
</script>
</body>
</html>